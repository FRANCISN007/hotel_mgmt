HOTEL MGMT SYS/
â”‚
â”œâ”€â”€ app/                      # Backend (FastAPI application)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ database.py
â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ router.py
â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â”œâ”€â”€ models.py
â”‚   â”‚   â”œâ”€â”€ schemas.py
â”‚   â”œâ”€â”€ rooms/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ router.py
â”‚   â”‚   â”œâ”€â”€ models.py
â”‚   â”‚   â”œâ”€â”€ schemas.py
â”‚   â”œâ”€â”€ bookings/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ router.py
â”‚   â”‚   â”œâ”€â”€ models.py
â”‚   â”‚   â”œâ”€â”€ schemas.py
â”‚   â”œâ”€â”€ payments/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ router.py
â”‚   â”‚   â”œâ”€â”€ models.py
â”‚   â”‚   â”œâ”€â”€ schemas.py
â”‚
â”œ
â”‚
â”œâ”€â”€ env/                      # Python virtual environment
â”‚
â”œâ”€â”€ .gitignore
â”œâ”€â”€ requirements.txt          # Python dependencies
â”œâ”€â”€ README.md

Proposed Structure for the Tkinter GUI:
HOTEL MGMT SYS/
â”‚
â”œâ”€â”€ app/                      # Backend (FastAPI application)
â”‚   â”œâ”€â”€ ...                   # Your existing backend files
â”‚
â”œâ”€â”€ frontend/                 # New directory for the Tkinter GUI
â”‚   â”œâ”€â”€ __init__.py           # To make this a package
â”‚   â”œâ”€â”€ main.py               # Main entry point for the Tkinter GUI
â”‚   â”œâ”€â”€ users_gui.py          # GUI logic for the Users module
â”‚   â”œâ”€â”€ rooms_gui.py          # GUI logic for the Rooms module
â”‚   â”œâ”€â”€ bookings_gui.py       # GUI logic for the Bookings module
â”‚   â”œâ”€â”€ payments_gui.py       # GUI logic for the Payments module
â”‚   â”œâ”€â”€ utils.py              # Common helper functions (e.g., API requests)
â”‚
â”œâ”€â”€ env/                      # Python virtual environment
â”‚
â”œâ”€â”€ .gitignore
â”œâ”€â”€ requirements.txt          # Python dependencies
â”œâ”€â”€ README.md



ðŸ“‚ Updated Backend Structure
bash
Copy
Edit
HOTEL MGMT SYS/
â”‚
â”œâ”€â”€ app/                    
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ database.py
â”‚   â”œâ”€â”€ users/                
â”‚   â”œâ”€â”€ rooms/                
â”‚   â”œâ”€â”€ bookings/             
â”‚   â”œâ”€â”€ payments/             
â”‚   â”œâ”€â”€ license/              # ðŸ”¹ New module for license key verification
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ router.py         # API endpoints for license validation
â”‚   â”‚   â”œâ”€â”€ models.py         # Database model for license keys
â”‚   â”‚   â”œâ”€â”€ schemas.py        # Pydantic schemas for API requests
â”‚   â”‚   â”œâ”€â”€ services.py       # Logic for license validation & expiration
â”‚
â”œâ”€â”€ env/                    
â”‚
â”œâ”€â”€ .gitignore
â”œâ”€â”€ requirements.txt        
â”œâ”€â”€ README.md  
ðŸ“Œ Explanation (Backend)
license/models.py â†’ Defines license key database model.
license/schemas.py â†’ Defines request/response validation for API.
license/router.py â†’ API endpoints for validating the license key.
license/services.py â†’ Contains logic to generate, validate, and expire licenses.
Frontend (Tkinter) - License Validation
Since the frontend (Tkinter) will request the license key, create a license_gui.py file in frontend/.

ðŸ“‚ Updated Frontend Structure
bash
Copy
Edit
HOTEL MGMT SYS/
â”‚
â”œâ”€â”€ frontend/              
â”‚   â”œâ”€â”€ __init__.py       
â”‚   â”œâ”€â”€ main.py           
â”‚   â”œâ”€â”€ users_gui.py      
â”‚   â”œâ”€â”€ rooms_gui.py      
â”‚   â”œâ”€â”€ bookings_gui.py   
â”‚   â”œâ”€â”€ payments_gui.py   
â”‚   â”œâ”€â”€ license_gui.py    # ðŸ”¹ New file for the license verification window
â”‚   â”œâ”€â”€ utils.py          
â”‚
â”œâ”€â”€ env/                 
â”‚
â”œâ”€â”€ .gitignore
â”œâ”€â”€ requirements.txt     
â”œâ”€â”€ README.md  
ðŸ“Œ Explanation (Frontend)
license_gui.py â†’ Handles the license entry window in Tkinter.
utils.py â†’ Handles API calls to the backend.





docker build -t hotel-management-system .
docker run -p 8000:8000 hotel-management-system






Run the following command to create a new React app:
npx create-react-app hotel-management-frontend

Navigate to your project folder:
cd hotel-management-frontend

Install required dependencies (e.g., Axios for API requests):
npm install axios




1. check out endpoint does not actually require the guest name because all the entry are done that day
2. the check out list and reservation list should be "check in History and Reservation History


@router.get("/", response_model=list[dict])
def list_rooms(db: Session = Depends(get_db)):
    # Query all rooms from the Room table
    all_rooms = db.query(room_models.Room).all()
    
    # Query all reservations
    reservations = db.query(reservation_models.Reservation).all()
    
    # Query all check-ins
    check_ins = db.query(check_in_models.Check_in).all()

    # Prepare the combined result
    result = []

    # Add all rooms with their current status
    for room in all_rooms:
        result.append({
            "room_number": room.room_number,
            "room_type": room.room_type,
            "amount": room.amount,
            "status": room.status,
        })

    # Add all reservations with arrival and departure dates
    for reservation in reservations:
        result.append({
            "room_number": reservation.room_number,
            "status": "reserved",
            "arrival_date": reservation.arrival_date,
            "departure_date": reservation.departure_date,
        })

    # Add all check-ins with arrival and departure dates
    for check_in in check_ins:
        result.append({
            "room_number": check_in.room_number,
            "status": "checked-in",
            "arrival_date": check_in.arrival_date,
            "departure_date": check_in.departure_date,
        })

    return result




@router.get("/available")
def list_available_rooms(db: Session = Depends(get_db)):
    available_rooms = db.query(models.Room).filter(models.Room.status == "available").all()
    total_available_rooms = len(available_rooms)

    if total_available_rooms == 0:
        return {
            "message": "We are fully booked!",
            "total_available_rooms": 0,
            "available_rooms": []
        }

    return {
        "total_available_rooms": total_available_rooms,
        "available_rooms": available_rooms
    }
